set guifont=PragmataPro_Mono:h11:qANTIALIASED
"set guifontwide=PragmataPro
set guioptions-=m "remove menu bar
set guioptions-=T "remove toolbar
set guioptions+=cr "console dialogs instead of popup dialogs
set lines=48 columns=85

"gghhghgh
hi NonText gui=NONE

"i should probably change this at some point
colorscheme UBARYD-fix

packadd! airline-themes
source $VIM/vimfiles/pack/airline/opt/airline-themes/autoload/airline/themes/ubaryd.vim
let g:airline_theme='ubaryd'

"fix for box drawing line space
set linespace=0

if has('windows')
	"get dpi, strip out utf-16 chars and new lines
	"system() converts 0x00 to 0x01 for 'platform independence'
	"should return something like 'PixelsPerXLogicalInch=192'
	"get the part from the = to the end of the line (eg '=192') and strip
	"the first character
	"and convert to a number
	let dpi = str2nr(strpart(matchstr(substitute(
		\system('wmic desktopmonitor get PixelsPerXLogicalInch /value'),
		\'\%x01\|\%x0a\|\%x0a\|\%xff\|\%xfe', '', 'g'),
		\'=.*$'), 1))
	if dpi > 100
		set renderoptions=
		set guifont=PragmataPro_Mono:h11:qCLEARTYPE
	else
		"magic to make ligatures work
		set renderoptions=type:directx,renmode:1
	endif
endif
